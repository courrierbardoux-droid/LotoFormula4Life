<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <title>Fenêtre longue Fréquence – Analyse EuroMillions</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 900px; margin: 2rem auto; padding: 0 1rem; }
    h1 { font-size: 1.3rem; }
    h2 { font-size: 1.1rem; margin-top: 1.5rem; }
    .proposition { background: #e8f5e9; padding: 0.75rem 1rem; border-radius: 8px; margin: 1rem 0; }
    .vulgarisation { background: #fff3e0; padding: 0.75rem 1rem; border-radius: 8px; margin: 1rem 0; font-size: 0.95rem; }
    .chart-container { position: relative; height: 280px; margin: 1rem 0; }
  </style>
</head>
<body>
  <h1>Fenêtre longue Fréquence (EuroMillions)</h1>
  <p>Analyse CDC Tâche 1 : σ(N), ρ(N), overlap Top-12 – du plus récent vers le passé.</p>

  <div class="proposition">
    <strong>Proposition concrète</strong><br>Fenêtre longue Fréquence suggérée: 450 tirages
  </div>

  <div class="vulgarisation">
    <strong>En bref (Loto)</strong><br>
    On a testé des fenêtres de 50, 60, 70… jusqu’à plusieurs centaines de tirages. Pour chaque taille N, on regarde :
    <ul>
      <li><b>σ(N)</b> : à quel point les 50 numéros ont des fréquences écartées (plus c’est stable en augmentant N, mieux c’est).</li>
      <li><b>ρ(N)</b> : si on ajoute 50 tirages en plus, est-ce que le classement des numéros change beaucoup ? (ρ proche de 1 = très stable.)</li>
      <li><b>Overlap Top-12</b> : les 12 numéros les plus sortis sur N tirages sont-ils à peu près les mêmes que sur N+50 ? (en %).</li>
    </ul>
    La « bonne taille » proposée est le plus petit N à partir duquel le classement devient stable (ρ ≥ 0,95, overlap ≥ 75 %) sur plusieurs pas. Fenêtre plus courte = instable, plus longue = inutile.
  </div>

  <h2>σ(N) – Dispersion des fréquences</h2>
  <div class="chart-container"><canvas id="chartSigma"></canvas></div>

  <h2>ρ(N) – Stabilité du classement (Spearman)</h2>
  <div class="chart-container"><canvas id="chartRho"></canvas></div>

  <h2>Overlap Top-12 (%)</h2>
  <div class="chart-container"><canvas id="chartOverlap"></canvas></div>

  <h2>Validation par glissement</h2>
  <p>Fenêtre de 450 tirages glissée sur l’historique : 6/15 fenêtres valides (40 %).</p>

  <script>
    const labels = [50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400,410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640,650,660,670,680,690,700,710,720,730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200,1210,1220,1230,1240,1250,1260,1270,1280,1290,1300,1310,1320,1330,1340,1350,1360,1370,1380,1390,1400,1410,1420,1430,1440,1450,1460,1470,1480,1490,1500,1510,1520,1530,1540,1550,1560,1570,1580,1590,1600,1610,1620,1630,1640,1650,1660,1670,1680,1690,1700,1710,1720,1730,1740,1750,1760,1770,1780,1790,1800,1810,1820,1830,1840,1850,1860];
    new Chart(document.getElementById('chartSigma'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'σ(N)', data: [2.332,2.474,2.668,2.821,3.027,3.066,3.412,3.65,3.672,3.715,4.079,4.069,4.035,4.271,4.214,4.233,4.508,4.682,4.903,4.883,5,5.068,5.079,5.079,5.415,5.381,5.553,5.909,6,6.226,6.293,6.496,6.557,6.779,6.948,6.994,6.899,6.838,6.785,6.669,6.645,6.788,7.111,7.051,7.006,7.164,7.258,7.28,7.491,7.679,7.66,7.774,8.027,7.92,7.673,7.566,7.647,7.481,7.671,7.545,7.831,8.017,7.987,8.032,8.156,8.222,8.369,8.39,8.352,8.316,8.591,8.553,8.44,8.335,8.253,8.195,8.314,8.393,8.497,8.713,8.602,8.56,8.716,8.866,8.87,8.768,8.888,8.745,8.807,8.875,8.964,8.976,9.409,9.419,9.406,9.271,9.565,9.514,9.621,9.648,9.529,9.592,9.728,9.948,10.117,10.171,10.34,10.562,10.787,10.774,11.004,11.092,11.136,11.368,11.446,11.486,11.179,11.248,11.44,11.405,11.617,11.648,11.839,11.945,12.182,12.326,12.264,12.306,12.319,12.49,12.403,12.177,12.259,12.485,12.614,12.901,13.133,13.012,12.915,12.839,12.886,12.858,12.926,12.9,12.806,12.94,12.983,13.068,13.173,13.005,13.265,13.174,13.1,13.058,12.92,12.769,12.706,12.761,12.769,12.92,12.983,12.918,12.862,13.09,13.306,13.376,13.418,13.211,13.242,13.304,13.489,13.613,13.599,13.489,13.221,13.286,13.41,13.336,13.531,13.6,13.606,13.596], borderColor: '#1976d2', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } } } }
    });
    new Chart(document.getElementById('chartRho'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'ρ(N)', data: [0.739,0.733,0.8,0.844,0.866,0.849,0.852,0.802,0.846,0.838,0.837,0.84,0.87,0.903,0.888,0.891,0.918,0.893,0.89,0.91,0.912,0.912,0.913,0.911,0.899,0.921,0.924,0.925,0.921,0.92,0.926,0.945,0.938,0.957,0.927,0.927,0.913,0.914,0.935,0.947,0.964,0.951,0.96,0.959,0.958,0.945,0.924,0.929,0.917,0.92,0.932,0.932,0.914,0.921,0.94,0.951,0.938,0.954,0.955,0.951,0.958,0.959,0.961,0.96,0.972,0.977,0.974,0.978,0.971,0.973,0.964,0.955,0.944,0.935,0.955,0.94,0.967,0.964,0.974,0.965,0.966,0.963,0.961,0.961,0.966,0.973,0.953,0.958,0.969,0.98,0.967,0.969,0.963,0.966,0.959,0.962,0.963,0.974,0.964,0.969,0.973,0.977,0.977,0.98,0.983,0.967,0.957,0.975,0.972,0.968,0.982,0.98,0.978,0.975,0.971,0.978,0.975,0.973,0.98,0.984,0.981,0.985,0.985,0.983,0.987,0.979,0.983,0.986,0.981,0.983,0.98,0.982,0.981,0.987,0.988,0.989,0.987,0.985,0.981,0.98,0.983,0.982,0.978,0.981,0.983,0.984,0.982,0.983,0.98,0.985,0.982,0.981,0.98,0.984,0.978,0.977,0.982,0.981,0.982,0.973,0.975,0.969,0.972,0.976,0.986,0.99,0.988,0.991,0.991,0.991,0.985,0.984,0.983,0.981,0.979,0.987,0.987,0.981,0.98,0.983,0.986,0.982], borderColor: '#2e7d32', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } }, y: { min: 0.8, max: 1 } } }
    });
    new Chart(document.getElementById('chartOverlap'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'Overlap Top-K (%)', data: [66.7,58.3,66.7,83.3,75,75,83.3,75,83.3,83.3,91.7,75,66.7,83.3,75,75,75,75,75,75,75,75,75,75,75,83.3,83.3,75,75,83.3,91.7,100,91.7,83.3,66.7,83.3,83.3,75,83.3,91.7,100,75,91.7,75,75,83.3,83.3,75,83.3,75,75,66.7,75,66.7,75,83.3,75,66.7,83.3,75,66.7,66.7,83.3,75,83.3,83.3,91.7,100,83.3,83.3,83.3,91.7,91.7,83.3,75,75,75,83.3,91.7,100,91.7,83.3,91.7,91.7,91.7,83.3,75,83.3,91.7,91.7,100,91.7,83.3,91.7,83.3,91.7,91.7,83.3,83.3,83.3,91.7,83.3,91.7,91.7,91.7,83.3,83.3,83.3,75,75,83.3,83.3,83.3,91.7,91.7,83.3,75,75,83.3,75,91.7,91.7,91.7,83.3,91.7,91.7,91.7,91.7,83.3,91.7,91.7,91.7,83.3,91.7,100,100,100,91.7,100,100,100,100,91.7,91.7,83.3,91.7,83.3,91.7,83.3,91.7,91.7,91.7,91.7,91.7,91.7,91.7,83.3,91.7,83.3,91.7,91.7,75,75,91.7,83.3,83.3,100,91.7,100,100,100,91.7,91.7,91.7,91.7,91.7,100,100,100,100,91.7,91.7], borderColor: '#7b1fa2', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } }, y: { min: 0, max: 100 } } }
    });
  </script>
</body>
</html>