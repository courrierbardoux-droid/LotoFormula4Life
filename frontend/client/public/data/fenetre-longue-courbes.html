<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <title>Fenêtre longue Fréquence – Analyse EuroMillions</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 900px; margin: 2rem auto; padding: 0 1rem; }
    h1 { font-size: 1.3rem; }
    h2 { font-size: 1.1rem; margin-top: 1.5rem; }
    .proposition { background: #e8f5e9; padding: 0.75rem 1rem; border-radius: 8px; margin: 1rem 0; }
    .vulgarisation { background: #fff3e0; padding: 0.75rem 1rem; border-radius: 8px; margin: 1rem 0; font-size: 0.95rem; }
    .chart-container { position: relative; height: 280px; margin: 1rem 0; }
  </style>
</head>
<body>
  <h1>Fenêtre longue Fréquence (EuroMillions)</h1>
  <p>Analyse CDC Tâche 1 : σ(N), ρ(N), overlap Top-12 – du plus récent vers le passé.</p>

  <div class="proposition">
    <strong>Proposition concrète</strong><br>Fenêtre longue Fréquence suggérée: 620 tirages
  </div>

  <div class="vulgarisation">
    <strong>En bref (Loto)</strong><br>
    On a testé des fenêtres de 50, 60, 70… jusqu’à plusieurs centaines de tirages. Pour chaque taille N, on regarde :
    <ul>
      <li><b>σ(N)</b> : à quel point les 50 numéros ont des fréquences écartées (plus c’est stable en augmentant N, mieux c’est).</li>
      <li><b>ρ(N)</b> : si on ajoute 50 tirages en plus, est-ce que le classement des numéros change beaucoup ? (ρ proche de 1 = très stable.)</li>
      <li><b>Overlap Top-12</b> : les 12 numéros les plus sortis sur N tirages sont-ils à peu près les mêmes que sur N+50 ? (en %).</li>
    </ul>
    La « bonne taille » proposée est le plus petit N à partir duquel le classement devient stable (ρ ≥ 0,95, overlap ≥ 75 %) sur plusieurs pas. Fenêtre plus courte = instable, plus longue = inutile.
  </div>

  <h2>σ(N) – Dispersion des fréquences</h2>
  <div class="chart-container"><canvas id="chartSigma"></canvas></div>

  <h2>ρ(N) – Stabilité du classement (Spearman)</h2>
  <div class="chart-container"><canvas id="chartRho"></canvas></div>

  <h2>Overlap Top-12 (%)</h2>
  <div class="chart-container"><canvas id="chartOverlap"></canvas></div>

  <h2>Validation par glissement</h2>
  <p>Fenêtre de 620 tirages glissée sur l’historique : 9/13 fenêtres valides (69 %).</p>

  <script>
    const labels = [50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400,410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640,650,660,670,680,690,700,710,720,730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200,1210,1220,1230,1240,1250,1260,1270,1280,1290,1300,1310,1320,1330,1340,1350,1360,1370,1380,1390,1400,1410,1420,1430,1440,1450,1460,1470,1480,1490,1500,1510,1520,1530,1540,1550,1560,1570,1580,1590,1600,1610,1620,1630,1640,1650,1660,1670,1680,1690,1700,1710,1720,1730,1740,1750,1760,1770,1780,1790,1800,1810,1820,1830,1840,1850];
    new Chart(document.getElementById('chartSigma'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'σ(N)', data: [2.272,2.449,2.771,2.821,2.828,3.353,3.572,3.516,3.561,3.914,3.929,3.94,4.186,4.176,4.176,4.382,4.665,4.762,4.841,4.927,5.056,5.056,5.004,5.437,5.303,5.553,5.838,5.848,6.102,6.299,6.337,6.4,6.615,6.832,6.971,6.782,6.806,6.832,6.642,6.639,6.693,7.009,6.986,7.043,7.102,7.214,7.217,7.346,7.702,7.65,7.785,7.975,7.92,7.725,7.529,7.605,7.502,7.668,7.537,7.833,7.892,7.915,8.015,8.077,8.173,8.321,8.275,8.283,8.241,8.457,8.447,8.452,8.2,8.149,8.178,8.251,8.333,8.41,8.651,8.57,8.523,8.656,8.766,8.827,8.736,8.773,8.642,8.716,8.879,8.967,8.886,9.334,9.278,9.321,9.261,9.489,9.644,9.573,9.571,9.497,9.581,9.608,9.859,10.028,10.21,10.2,10.511,10.662,10.66,10.806,11.025,11.072,11.266,11.37,11.489,11.241,11.139,11.323,11.326,11.407,11.598,11.598,11.829,12.065,12.147,12.167,12.184,12.203,12.254,12.285,12.154,11.977,12.231,12.413,12.659,12.992,12.881,12.733,12.706,12.689,12.751,12.755,12.783,12.643,12.684,12.78,12.844,12.819,12.884,13.063,12.937,12.951,12.995,12.674,12.578,12.592,12.565,12.538,12.695,12.887,12.633,12.589,12.759,13.106,13.182,13.189,13.104,13.048,13.094,13.291,13.325,13.378,13.373,13.106,13.018,13.214,13.135,13.346,13.375,13.412,13.437], borderColor: '#1976d2', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } } } }
    });
    new Chart(document.getElementById('chartRho'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'ρ(N)', data: [0.717,0.721,0.81,0.856,0.861,0.871,0.834,0.834,0.865,0.837,0.856,0.874,0.9,0.891,0.886,0.918,0.902,0.872,0.898,0.883,0.908,0.901,0.912,0.891,0.91,0.918,0.913,0.91,0.891,0.9,0.924,0.925,0.954,0.932,0.93,0.915,0.91,0.931,0.942,0.961,0.951,0.959,0.957,0.945,0.934,0.921,0.918,0.918,0.924,0.933,0.934,0.917,0.916,0.929,0.95,0.947,0.948,0.961,0.956,0.966,0.959,0.962,0.958,0.957,0.97,0.974,0.977,0.973,0.965,0.97,0.962,0.937,0.946,0.946,0.944,0.962,0.964,0.968,0.973,0.967,0.957,0.96,0.968,0.964,0.966,0.957,0.959,0.965,0.98,0.965,0.975,0.971,0.968,0.96,0.962,0.969,0.972,0.967,0.976,0.97,0.974,0.976,0.974,0.977,0.968,0.96,0.965,0.971,0.973,0.981,0.979,0.982,0.974,0.973,0.984,0.975,0.968,0.982,0.978,0.982,0.981,0.984,0.978,0.983,0.982,0.983,0.981,0.982,0.976,0.979,0.981,0.984,0.988,0.989,0.988,0.985,0.988,0.986,0.984,0.984,0.98,0.981,0.984,0.985,0.981,0.979,0.984,0.981,0.983,0.982,0.979,0.983,0.979,0.98,0.975,0.983,0.983,0.983,0.977,0.975,0.968,0.967,0.98,0.987,0.988,0.99,0.988,0.99,0.992,0.986,0.983,0.984,0.981,0.979,0.981,0.987,0.98,0.979,0.98,0.985,0.985], borderColor: '#2e7d32', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } }, y: { min: 0.8, max: 1 } } }
    });
    new Chart(document.getElementById('chartOverlap'), {
      type: 'line',
      data: { labels, datasets: [{ label: 'Overlap Top-K (%)', data: [66.7,66.7,75,83.3,75,75,75,83.3,83.3,83.3,75,75,83.3,83.3,75,91.7,83.3,75,75,66.7,66.7,83.3,83.3,75,75,83.3,91.7,83.3,83.3,91.7,83.3,83.3,83.3,75,83.3,75,75,75,75,83.3,75,66.7,66.7,66.7,83.3,75,75,83.3,75,66.7,83.3,83.3,66.7,83.3,83.3,83.3,83.3,83.3,75,75,75,75,83.3,83.3,91.7,91.7,91.7,91.7,83.3,91.7,83.3,75,83.3,83.3,66.7,75,75,91.7,91.7,91.7,91.7,75,91.7,91.7,91.7,83.3,83.3,91.7,91.7,91.7,100,91.7,91.7,91.7,91.7,91.7,83.3,75,83.3,91.7,91.7,91.7,83.3,83.3,83.3,83.3,83.3,83.3,83.3,91.7,83.3,91.7,83.3,91.7,91.7,83.3,75,91.7,83.3,83.3,83.3,91.7,91.7,83.3,91.7,91.7,91.7,91.7,91.7,91.7,91.7,83.3,91.7,91.7,100,100,91.7,100,100,91.7,100,91.7,91.7,83.3,91.7,83.3,91.7,83.3,91.7,91.7,91.7,91.7,91.7,91.7,83.3,83.3,75,91.7,91.7,75,75,83.3,91.7,91.7,91.7,100,91.7,100,100,100,91.7,91.7,91.7,91.7,91.7,91.7,91.7,100,91.7,91.7,100], borderColor: '#7b1fa2', fill: false }] },
      options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'N (nb tirages)' } }, y: { min: 0, max: 100 } } }
    });
  </script>
</body>
</html>